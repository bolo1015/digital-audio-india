<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market Signals | Digital Audio India</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 font-sans">
    
    <header class="bg-white shadow-sm py-6">
        <div class="container mx-auto px-6 flex justify-between items-center">
            <a href="/index.html" class="font-display text-2xl font-bold tracking-tight text-slate-900">
                DIGITAL<span class="text-teal-600 underline decoration-2 underline-offset-4">AUDIO</span>INDIA
            </a>
            <a href="/index.html" class="text-teal-600 font-medium hover:text-teal-700">← Back Home</a>
        </div>
    </header>

    <main class="container mx-auto px-6 py-20">
        <h1 class="text-4xl md:text-5xl font-extrabold text-slate-900 mb-12">Market Signals</h1>
        
        <div id="signals-feed" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <p class="text-slate-500 text-lg">Loading the latest intelligence...</p>
        </div>
    </main>

    <script>
        async function loadSignals() {
            const feed = document.getElementById('signals-feed');
            try {
                // This fetches the new database file you set up in the CMS
                const response = await fetch('/data/signals.json');
                if (!response.ok) throw new Error("No data found");
                
                const data = await response.json();
                
                // If there are articles, display them
                if (data.articles && data.articles.length > 0) {
                    feed.innerHTML = ''; // Clear loading text
                    
                    // Loop through the database and create a card for each signal
                    data.articles.forEach((article, index) => {
                        const date = new Date(article.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
                        feed.innerHTML += `
                            <div class="bg-white p-8 rounded-2xl border border-slate-200 shadow-sm hover:shadow-lg transition-all duration-300 flex flex-col">
                                <span class="text-teal-600 font-bold text-sm tracking-widest uppercase mb-3">${date}</span>
                                <h2 class="text-2xl font-bold text-slate-900 mb-4">${article.title}</h2>
                                <p class="text-slate-600 flex-grow mb-8">${article.summary}</p>
                                <a href="/signal-detail.html?id=${index}" class="text-teal-600 font-semibold hover:text-teal-700 flex items-center">
                                    Read Deep Dive <span class="ml-2">→</span>
                                </a>
                            </div>
                        `;
                    });
                } else {
                    feed.innerHTML = '<p class="text-slate-500 text-lg">No market signals published yet.</p>';
                }
            } catch (error) {
                feed.innerHTML = '<p class="text-slate-500 text-lg">Awaiting the first market signal...</p>';
            }
        }
        
        document.addEventListener('DOMContentLoaded', loadSignals);
    </script>
</body>
</html>
